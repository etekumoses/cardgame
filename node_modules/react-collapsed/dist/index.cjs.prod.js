"use strict";var Q=Object.create;var x=Object.defineProperty,X=Object.defineProperties,Y=Object.getOwnPropertyDescriptor,Z=Object.getOwnPropertyDescriptors,K=Object.getOwnPropertyNames,R=Object.getOwnPropertySymbols,ee=Object.getPrototypeOf,D=Object.prototype.hasOwnProperty,F=Object.prototype.propertyIsEnumerable;var $=(n,e,t)=>e in n?x(n,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):n[e]=t,d=(n,e)=>{for(var t in e||(e={}))D.call(e,t)&&$(n,t,e[t]);if(R)for(var t of R(e))F.call(e,t)&&$(n,t,e[t]);return n},g=(n,e)=>X(n,Z(e));var m=(n,e)=>{var t={};for(var o in n)D.call(n,o)&&e.indexOf(o)<0&&(t[o]=n[o]);if(n!=null&&R)for(var o of R(n))e.indexOf(o)<0&&F.call(n,o)&&(t[o]=n[o]);return t};var te=(n,e)=>{for(var t in e)x(n,t,{get:e[t],enumerable:!0})},q=(n,e,t,o)=>{if(e&&typeof e=="object"||typeof e=="function")for(let s of K(e))!D.call(n,s)&&s!==t&&x(n,s,{get:()=>e[s],enumerable:!(o=Y(e,s))||o.enumerable});return n};var B=(n,e,t)=>(t=n!=null?Q(ee(n)):{},q(e||!n||!n.__esModule?x(t,"default",{value:n,enumerable:!0}):t,n)),ne=n=>q(x({},"__esModule",{value:!0}),n);var l=(n,e,t)=>($(n,typeof e!="symbol"?e+"":e,t),t);var le={};te(le,{default:()=>G});module.exports=ne(le);var h=require("react");var N=B(require("react")),r=require("react"),k=B(require("tiny-warning")),I=(...n)=>(...e)=>n.forEach(t=>t&&t(...e));function U(n){if(!n||typeof n=="string")return 0;let e=n/36;return Math.round((4+15*e**.25+e/5)*10)}function oe(n,e){if(n!=null)if(typeof n=="function")n(e);else try{n.current=e}catch(t){throw new Error(`Cannot assign value "${e}" to ref "${n}"`)}}function C(...n){return n.every(e=>e==null)?null:e=>{n.forEach(t=>{oe(t,e)})}}function se(n){let e=(0,r.useRef)(n);return(0,r.useEffect)(()=>{e.current=n}),(0,r.useCallback)((...t)=>{var o;return(o=e.current)==null?void 0:o.call(e,...t)},[])}function W(n,e,t){let[o,s]=(0,r.useState)(e),i=(0,r.useRef)(typeof n!="undefined"),a=i.current?n:o,f=se(t),T=(0,r.useCallback)(c=>{let E=typeof c=="function"?c(a):c;i.current||s(E),f==null||f(E)},[f,a]);return(0,r.useEffect)(()=>{(0,k.default)(!(i.current&&n==null),"useCollapse is changing from controlled to uncontrolled. useCollapse should not switch from controlled to uncontrolled (or vice versa). Decide between using a controlled or uncontrolled collapse for the lifetime of the component. Check the `isExpanded` prop."),(0,k.default)(!(!i.current&&n!=null),"useCollapse is changing from uncontrolled to controlled. useCollapse should not switch from uncontrolled to controlled (or vice versa). Decide between using a controlled or uncontrolled collapse for the lifetime of the component. Check the `isExpanded` prop.")},[n]),[a,T]}var j=typeof window!="undefined"?N.useLayoutEffect:r.useEffect;function z(n){if(!1!=="production"&&window&&"getComputedStyle"in window){let{paddingTop:e,paddingBottom:t}=window.getComputedStyle(n);(0,k.default)(!(e&&e!=="0px"||t&&t!=="0px"),"Collapse: Padding applied to the collapse element will cause the animation to break and not perform as expected. To fix, apply equivalent padding to the direct descendent of the collapse element.")}}var ie=()=>{let n=1,e=new WeakMap,t=(o,s)=>typeof o=="number"||typeof o=="string"?s?`idx-${s}`:`val-${o}`:e.has(o)?"uid"+e.get(o):(e.set(o,n++),t(o));return t},_=ie();var P=class{constructor(e){l(this,"isExpanded");l(this,"options");l(this,"id");l(this,"collapseElement",null);l(this,"isMounted",!1);l(this,"init",()=>{let e=this.options.getCollapseElement();this.collapseElement!==e&&(this.collapseElement=e,this.isExpanded||this.setStyles(this.getCollapsedStyles()))});l(this,"getCollapsedStyles",()=>({display:this.options.collapsedHeight===0?"none":"block",height:`${this.options.collapsedHeight}px`,overflow:"hidden"}));l(this,"setOptions",e=>{var o;let t=typeof e=="function"?e(this.options):e;Object.entries(t).forEach(([s,i])=>{typeof i=="undefined"&&delete t[s]}),this.options=d({duration:"auto",easing:"cubic-bezier(0.4, 0, 0.2, 1)",expandStyles:{},collapseStyles:{},hasDisabledAnimation:!1,collapsedHeight:0,defaultExpanded:!1,onExpandedChange(){}},t),this.id=(o=this.options.id)!=null?o:`collapse-${_(this)}`});l(this,"setStyles",e=>{let t=this.options.getCollapseElement();if(!!t)for(let o in e){let s=e[o];s?t.style[o]=s:t.style.removeProperty(o)}});l(this,"getTransitionStyles",e=>this.options.hasDisabledAnimation?"":`height ${this.options.duration==="auto"?U(e):this.options.duration}ms ${this.options.easing}`);l(this,"handleTransitionEnd",e=>{var t,o,s,i;e.propertyName==="height"&&(this.isExpanded?(this.setStyles({height:"",overflow:"",transition:"",display:""}),(o=(t=this.options).onExpandEnd)==null||o.call(t)):(this.setStyles(g(d({},this.getCollapsedStyles()),{transition:""})),(i=(s=this.options).onCollapseEnd)==null||i.call(s)))});l(this,"open",()=>{var t,o,s,i;if(this.isExpanded||!this.isMounted)return;let e=this.options.getCollapseElement();!e||(this.isExpanded=!0,(o=(t=this.options).onExpandedChange)==null||o.call(t,!0),(i=(s=this.options).onExpandStart)==null||i.call(s),z(e),requestAnimationFrame(()=>{this.setStyles(g(d({},this.options.expandStyles),{display:"block",overflow:"hidden",height:`${this.options.collapsedHeight}px`})),requestAnimationFrame(()=>{let a=e.scrollHeight;e.style.transition=this.getTransitionStyles(a),e.style.height=`${a}px`})}))});l(this,"close",()=>{var t,o,s,i;if(!this.isExpanded)return;let e=this.options.getCollapseElement();if(!!e){if(!this.isMounted){this.init();return}this.isExpanded=!1,(o=(t=this.options).onExpandedChange)==null||o.call(t,!1),(i=(s=this.options).onCollapseStart)==null||i.call(s),requestAnimationFrame(()=>{let a=e.scrollHeight;this.setStyles(g(d({},this.options.collapseStyles),{transition:this.getTransitionStyles(a),height:`${a}px`})),requestAnimationFrame(()=>{this.setStyles({height:`${this.options.collapsedHeight}px`,overflow:"hidden"})})})}});l(this,"toggle",()=>{this.isExpanded?this.close():this.open()});l(this,"getCollapse",()=>{var t,o;let e=Boolean((o=(t=this.options).getToggleElement)==null?void 0:o.call(t));return{id:this.id,"aria-hidden":this.isExpanded?void 0:!0,onTransitionEndHandler:this.handleTransitionEnd,style:{boxSizing:"border-box"},role:"region","aria-labelledby":e?`${this.id}-toggle`:void 0}});l(this,"getToggle",({disabled:e}={disabled:!1})=>{var i,a;let t=(a=(i=this.options).getToggleElement)==null?void 0:a.call(i),o=t?t.tagName==="BUTTON":!1,s={onClickHandler:e?()=>{}:this.toggle,id:`${this.id}-toggle`,"aria-controls":this.id,"aria-expanded":this.isExpanded};return o?(s.type="button",s.disabled=e?!0:void 0):(s["aria-disabled"]=e?!0:void 0,s.role="button",s.tabIndex=e?-1:0),s});this.setOptions(e),this.isExpanded=Boolean(this.options.defaultExpanded),this.init(),this.isMounted=!0}};function G(n={}){let V=n,{isExpanded:e,defaultExpanded:t,onExpandedChange:o}=V,s=m(V,["isExpanded","defaultExpanded","onExpandedChange"]),i=(0,h.useId)(),a=(0,h.useRef)(null),[f,T]=(0,h.useState)(null),[c,A]=W(e,t,o),E=g(d({id:i},s),{getCollapseElement:()=>a.current,getToggleElement:()=>f,defaultExpanded:c,onExpandedChange:A}),[p]=(0,h.useState)(()=>new P(E));p.setOptions(E),j(()=>{c?p.open():p.close()},[c,p]);let L=u=>{a.current!==u&&(a.current=u,u&&p.init())};return{getCollapseProps(v={}){var y=v,{refKey:u="ref"}=y,b=m(y,["refKey"]);let M=b[u];if(!p)return{[u]:C(M,L)};let H=p.getCollapse(),{onTransitionEndHandler:S}=H,w=m(H,["onTransitionEndHandler"]);return g(d(d({},b),w),{[u]:C(M,L),onTransitionEnd:S})},getToggleProps(M={}){var S=M,{disabled:u,onClick:b=()=>{},refKey:v="ref"}=S,y=m(S,["disabled","onClick","refKey"]);let w=y[v];if(!p)return{[v]:C(w,T)};let O=p.getToggle({disabled:u}),{onClickHandler:H}=O,J=m(O,["onClickHandler"]);return g(d(d({},y),J),{[v]:C(w,T),onClick:I(H,b)})},isExpanded:c,setExpanded:A}}0&&(module.exports={});
